{
 "actions": [],
 "autoname": "format: {item_code}_{plant}",
 "creation": "2020-12-29 15:18:54.268971",
 "doctype": "DocType",
 "editable_grid": 1,
 "engine": "InnoDB",
 "field_order": [
  "item_code",
  "plant",
  "procurement_type",
  "planner",
  "column_break_4",
  "uom",
  "company",
  "replenish_method",
  "active",
  "group_id",
  "procurement_info_section",
  "cb_buffer_size_factor",
  "buffer_profile",
  "adu_calculation_method",
  "calculation_method",
  "adu_fixed",
  "column_break_14",
  "adu",
  "dlt",
  "order_spike_horizon",
  "order_spike_threshold",
  "column_break_22",
  "minimum_order_quantity",
  "qty_multiple",
  "order_cycle",
  "procure_min_qty",
  "procure_max_qty",
  "procure_uom",
  "section_break_25",
  "red_override",
  "yellow_override",
  "green_override",
  "red_base_qty",
  "red_safety_qty",
  "column_break_35",
  "top_of_green",
  "top_of_yellow",
  "top_of_red",
  "green_zone_qty",
  "yellow_zone_qty",
  "red_zone_qty",
  "column_break_11",
  "buffer_summary",
  "sb_calculate_qty",
  "actual_qty",
  "incoming_dlt_qty",
  "qualified_demand",
  "net_flow_position",
  "column_break_29",
  "procure_recommended_qty",
  "planning_priority_level",
  "net_flow_position_percent",
  "execution_priority_level",
  "on_hand_percent",
  "column_break_44",
  "incoming_qty",
  "incoming_outside_dlt_qty",
  "qty_available_not_res",
  "rfq_outside_dlt_qty",
  "outgoing_qty",
  "virtual_qty",
  "zones_section",
  "green_zone_column",
  "green_zone_oc",
  "green_zone_moq",
  "green_zone_lt_factor",
  "yellow_zone_column",
  "red_zone_column",
  "lead_days",
  "demand_chart_section",
  "demand_chart",
  "supply_chart_section",
  "supply_chart",
  "sb_planning_history_chart",
  "planning_history_chart",
  "sb_execution_history_chart",
  "execution_history_chart",
  "other_info_section",
  "auto_procure",
  "auto_procure_option",
  "column_break_79",
  "main_supplier",
  "extra_lead_time",
  "comment_section",
  "comment",
  "column_break_86",
  "comment_date"
 ],
 "fields": [
  {
   "fieldname": "item_code",
   "fieldtype": "Link",
   "in_standard_filter": 1,
   "label": "Item Code",
   "options": "Item",
   "reqd": 1,
   "set_only_once": 1
  },
  {
   "fetch_from": "item_code.stock_uom",
   "fieldname": "uom",
   "fieldtype": "Link",
   "label": "UOM",
   "options": "UOM",
   "reqd": 1,
   "set_only_once": 1
  },
  {
   "fieldname": "column_break_4",
   "fieldtype": "Column Break"
  },
  {
   "default": "1",
   "fieldname": "active",
   "fieldtype": "Check",
   "in_standard_filter": 1,
   "label": "Active",
   "search_index": 1
  },
  {
   "fieldname": "procurement_info_section",
   "fieldtype": "Section Break"
  },
  {
   "description": "Minimum qty for a single procurement",
   "fieldname": "procure_min_qty",
   "fieldtype": "Float",
   "hidden": 1,
   "label": "Minimum Procure Batch"
  },
  {
   "description": "Maximum qty for a single procurement",
   "fieldname": "procure_max_qty",
   "fieldtype": "Float",
   "hidden": 1,
   "label": "Maximum Order Qty"
  },
  {
   "default": "1",
   "description": "The procurement quantity will be rounded up to this multiple. ",
   "fieldname": "qty_multiple",
   "fieldtype": "Float",
   "label": "Qty Multiple"
  },
  {
   "fieldname": "column_break_11",
   "fieldtype": "Column Break"
  },
  {
   "description": "Moves created through this buffer will be put in this \nprocurement group. If none is given, the moves generated by \nstock rules will be grouped into one big picking.",
   "fieldname": "group_id",
   "fieldtype": "Link",
   "hidden": 1,
   "label": "Procurement Group",
   "options": "Procurement Group"
  },
  {
   "fieldname": "main_supplier",
   "fieldtype": "Link",
   "label": "Main Supplier",
   "options": "Supplier"
  },
  {
   "default": "1",
   "description": "Lead time for distributed products.",
   "fieldname": "lead_days",
   "fieldtype": "Int",
   "hidden": 1,
   "label": "Lead Time (Distributed)"
  },
  {
   "fieldname": "incoming_qty",
   "fieldtype": "Float",
   "label": "Incoming Qty",
   "read_only": 1
  },
  {
   "fieldname": "outgoing_qty",
   "fieldtype": "Float",
   "label": "Outgoing Qty",
   "read_only": 1
  },
  {
   "description": "Quantity available in this stock buffer, this is the total \n quantity on hand minus the outgoing reservations.",
   "fieldname": "qty_available_not_res",
   "fieldtype": "Float",
   "hidden": 1,
   "in_list_view": 1,
   "label": "Qty On Hand (Unreserved)",
   "read_only": 1
  },
  {
   "description": "default as decoupled lead time",
   "fieldname": "order_spike_horizon",
   "fieldtype": "Int",
   "label": "Order Spike Horizon"
  },
  {
   "description": "default as top of red",
   "fieldname": "order_spike_threshold",
   "fieldtype": "Float",
   "label": "Order Spike Threshold"
  },
  {
   "columns": 1,
   "description": "Qualified Demand: past due and due today plus order spike",
   "fieldname": "qualified_demand",
   "fieldtype": "Float",
   "label": "Demand",
   "read_only": 1
  },
  {
   "columns": 1,
   "description": "Ordered Stock",
   "fieldname": "incoming_dlt_qty",
   "fieldtype": "Float",
   "in_list_view": 1,
   "label": "On Supply",
   "read_only": 1
  },
  {
   "fieldname": "incoming_outside_dlt_qty",
   "fieldtype": "Float",
   "label": "Incoming (Outside DLT)",
   "read_only": 1
  },
  {
   "description": "Request for Quotation total quantity that is planned outside of \"\nthe DLT horizon.",
   "fieldname": "rfq_outside_dlt_qty",
   "fieldtype": "Float",
   "hidden": 1,
   "label": "RFQ Qty (Outside DLT)",
   "read_only": 1
  },
  {
   "fieldname": "column_break_29",
   "fieldtype": "Column Break"
  },
  {
   "columns": 1,
   "description": "Available Stock",
   "fieldname": "net_flow_position",
   "fieldtype": "Float",
   "in_list_view": 1,
   "label": "Available",
   "read_only": 1
  },
  {
   "fieldname": "net_flow_position_percent",
   "fieldtype": "Percent",
   "label": "Available %",
   "read_only": 1
  },
  {
   "bold": 1,
   "fieldname": "planning_priority_level",
   "fieldtype": "Select",
   "label": "Planning Priority",
   "options": "\n1_Red\n2_Yellow\n3_Green",
   "read_only": 1
  },
  {
   "bold": 1,
   "fieldname": "execution_priority_level",
   "fieldtype": "Select",
   "label": "On-Hand Priority",
   "options": "\n1_Red\n2_Yellow\n3_Green",
   "read_only": 1
  },
  {
   "fieldname": "on_hand_percent",
   "fieldtype": "Percent",
   "label": "On Hand/TOR (%)",
   "read_only": 1
  },
  {
   "fieldname": "procure_recommended_qty",
   "fieldtype": "Float",
   "label": "Procure Recommended Qty",
   "read_only": 1
  },
  {
   "fieldname": "buffer_profile",
   "fieldtype": "Link",
   "label": "Buffer Profile",
   "options": "Buffer Profile"
  },
  {
   "fetch_from": "buffer_profile.replenish_method",
   "fieldname": "replenish_method",
   "fieldtype": "Select",
   "label": "Replenish Method",
   "options": "Replenish\nReplenish Override\nMin Max",
   "read_only": 1
  },
  {
   "columns": 1,
   "description": "Decoupled Lead Time (days)",
   "fieldname": "dlt",
   "fieldtype": "Float",
   "label": "DLT(days) ",
   "read_only": 1
  },
  {
   "columns": 1,
   "description": "Average Daily Usage",
   "fieldname": "adu",
   "fieldtype": "Float",
   "label": "ADU",
   "read_only": 1
  },
  {
   "columns": 1,
   "fieldname": "adu_calculation_method",
   "fieldtype": "Link",
   "label": "ADU Calculation Method",
   "options": "ADU Calculation Method",
   "reqd": 1
  },
  {
   "depends_on": "eval: doc.calculation_method==='fixed'",
   "description": "Average Daily Usage",
   "fieldname": "adu_fixed",
   "fieldtype": "Float",
   "label": "Fixed ADU",
   "mandatory_depends_on": "eval: doc.calculation_method ==='fixed'"
  },
  {
   "fieldname": "top_of_red",
   "fieldtype": "Float",
   "label": "Top of Red",
   "read_only": 1
  },
  {
   "fieldname": "red_zone_qty",
   "fieldtype": "Float",
   "label": "Red Zone Qty",
   "read_only": 1
  },
  {
   "fieldname": "red_safety_qty",
   "fieldtype": "Float",
   "label": "Red Safety Qty",
   "read_only": 1
  },
  {
   "fieldname": "red_base_qty",
   "fieldtype": "Float",
   "label": "Red Base Qty",
   "read_only": 1
  },
  {
   "fieldname": "red_override",
   "fieldtype": "Float",
   "label": "Red Zone (Override)"
  },
  {
   "fieldname": "top_of_yellow",
   "fieldtype": "Float",
   "label": "Top of Yellow",
   "read_only": 1
  },
  {
   "fieldname": "yellow_zone_qty",
   "fieldtype": "Float",
   "in_list_view": 1,
   "label": "Yellow Zone Qty",
   "read_only": 1
  },
  {
   "fieldname": "yellow_override",
   "fieldtype": "Float",
   "label": "Yellow Zone (Override)"
  },
  {
   "fieldname": "top_of_green",
   "fieldtype": "Float",
   "label": "Top of Green",
   "read_only": 1
  },
  {
   "fieldname": "green_zone_qty",
   "fieldtype": "Float",
   "label": "Green Zone Qty",
   "read_only": 1
  },
  {
   "fieldname": "green_override",
   "fieldtype": "Float",
   "label": "Green Zone (Override)"
  },
  {
   "fieldname": "green_zone_lt_factor",
   "fieldtype": "Float",
   "label": "Green Zone Lead Time Factor"
  },
  {
   "fieldname": "green_zone_moq",
   "fieldtype": "Float",
   "label": "Green Zone Minimum Order Quantity"
  },
  {
   "description": "Green zone qty option considering desired Order Cycle",
   "fieldname": "green_zone_oc",
   "fieldtype": "Float",
   "label": "Green Zone Order Cycle"
  },
  {
   "fieldname": "order_cycle",
   "fieldtype": "Float",
   "label": "Minimum Order Cycle (days)"
  },
  {
   "fieldname": "minimum_order_quantity",
   "fieldtype": "Float",
   "label": "Minimum Order Qty"
  },
  {
   "collapsible": 1,
   "fieldname": "demand_chart_section",
   "fieldtype": "Section Break",
   "label": "Demand Chart"
  },
  {
   "collapsible": 1,
   "fieldname": "supply_chart_section",
   "fieldtype": "Section Break",
   "label": "Supply Chart"
  },
  {
   "default": "0",
   "description": "Whenever the buffer is recomputed, if this option is set, it \"\nwill procure automatically if needed.",
   "fieldname": "auto_procure",
   "fieldtype": "Check",
   "label": "Auto Procure"
  },
  {
   "default": "Standard",
   "fieldname": "auto_procure_option",
   "fieldtype": "Select",
   "label": "Auto Procure Option",
   "options": "Standard\nStockout"
  },
  {
   "description": "When defined, this lead time will be added to the decoupled lead time.\n       This is particularily useful in situations of infrequent but \n        periodic demand. E.g. We receive a large order every 30 days, \n       whereas the supplier takes 10 days to supply. \n        In this case the yellow zone must cover for the \n        entire cycle of 30 days of demand.\n        In situations with infrequent demand the ADU tends to be very\n         small, and every new order would be treated as a spike, when\n        in reality this is not an exceptional situation.",
   "fieldname": "extra_lead_time",
   "fieldtype": "Float",
   "label": "Extra lead time"
  },
  {
   "collapsible": 1,
   "fieldname": "other_info_section",
   "fieldtype": "Section Break",
   "label": "Other Info"
  },
  {
   "fieldname": "company",
   "fieldtype": "Link",
   "label": "Company",
   "options": "Company",
   "reqd": 1,
   "set_only_once": 1
  },
  {
   "fieldname": "cb_buffer_size_factor",
   "fieldtype": "Column Break",
   "label": "Buffer Size Factors"
  },
  {
   "fieldname": "buffer_summary",
   "fieldtype": "HTML"
  },
  {
   "fieldname": "section_break_25",
   "fieldtype": "Section Break",
   "label": "Buffer Zones"
  },
  {
   "collapsible": 1,
   "fieldname": "zones_section",
   "fieldtype": "Section Break",
   "hidden": 1,
   "label": "Zones"
  },
  {
   "fieldname": "green_zone_column",
   "fieldtype": "Column Break",
   "label": "Green Zone"
  },
  {
   "fieldname": "yellow_zone_column",
   "fieldtype": "Column Break",
   "label": "Yellow Zone"
  },
  {
   "fieldname": "red_zone_column",
   "fieldtype": "Column Break",
   "label": "Red Zone"
  },
  {
   "fieldname": "actual_qty",
   "fieldtype": "Float",
   "label": "Actual",
   "read_only": 1
  },
  {
   "fieldname": "virtual_qty",
   "fieldtype": "Float",
   "label": "Virtual Qty",
   "read_only": 1
  },
  {
   "fieldname": "plant",
   "fieldtype": "Link",
   "in_standard_filter": 1,
   "label": "Plant ",
   "options": "Plant",
   "reqd": 1,
   "set_only_once": 1
  },
  {
   "fieldname": "demand_chart",
   "fieldtype": "HTML",
   "label": "Demand Chart"
  },
  {
   "fieldname": "supply_chart",
   "fieldtype": "HTML",
   "label": "Supply Chart"
  },
  {
   "collapsible": 1,
   "fieldname": "sb_planning_history_chart",
   "fieldtype": "Section Break",
   "label": "Planning History Chart"
  },
  {
   "fieldname": "planning_history_chart",
   "fieldtype": "HTML",
   "label": "Planning History Chart"
  },
  {
   "collapsible": 1,
   "fieldname": "sb_execution_history_chart",
   "fieldtype": "Section Break",
   "label": "Execution History Chart"
  },
  {
   "fieldname": "execution_history_chart",
   "fieldtype": "HTML",
   "label": "Execution History Chart"
  },
  {
   "fieldname": "column_break_79",
   "fieldtype": "Column Break"
  },
  {
   "fieldname": "column_break_14",
   "fieldtype": "Column Break"
  },
  {
   "fetch_from": "adu_calculation_method.calculation_method",
   "fieldname": "calculation_method",
   "fieldtype": "Data",
   "hidden": 1,
   "label": "ADU calculation method",
   "read_only": 1
  },
  {
   "fieldname": "planner",
   "fieldtype": "Link",
   "in_list_view": 1,
   "in_standard_filter": 1,
   "label": "Planner",
   "options": "Planner"
  },
  {
   "fieldname": "column_break_22",
   "fieldtype": "Column Break"
  },
  {
   "fieldname": "sb_calculate_qty",
   "fieldtype": "Section Break",
   "label": "Calcuated Qty"
  },
  {
   "fieldname": "column_break_44",
   "fieldtype": "Column Break"
  },
  {
   "fieldname": "column_break_35",
   "fieldtype": "Column Break"
  },
  {
   "fetch_from": "buffer_profile.procurement_type",
   "fieldname": "procurement_type",
   "fieldtype": "Select",
   "in_standard_filter": 1,
   "label": "Procurement Type",
   "options": "\nBuy\nManufacture\nTransfer",
   "read_only": 1
  },
  {
   "fieldname": "procure_uom",
   "fieldtype": "Link",
   "label": "Procure UOM",
   "options": "UOM"
  },
  {
   "fieldname": "comment_section",
   "fieldtype": "Section Break",
   "label": "Comment"
  },
  {
   "fieldname": "comment",
   "fieldtype": "Data",
   "label": "Comment"
  },
  {
   "fieldname": "column_break_86",
   "fieldtype": "Column Break"
  },
  {
   "fieldname": "comment_date",
   "fieldtype": "Date",
   "label": "Comment Date",
   "read_only": 1
  }
 ],
 "links": [],
 "modified": "2021-04-29 15:22:30.345864",
 "modified_by": "yuxinyong@163.com",
 "module": "DDMRP",
 "name": "Stock Buffer",
 "owner": "Administrator",
 "permissions": [
  {
   "create": 1,
   "delete": 1,
   "email": 1,
   "export": 1,
   "print": 1,
   "read": 1,
   "report": 1,
   "role": "System Manager",
   "share": 1,
   "write": 1
  }
 ],
 "sort_field": "modified",
 "sort_order": "DESC",
 "title_field": "item_code",
 "track_changes": 1
}